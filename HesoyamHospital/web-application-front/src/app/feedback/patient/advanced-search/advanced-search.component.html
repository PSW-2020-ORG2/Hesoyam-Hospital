<div style="display: flex; justify-content: center;">
    <mat-card class="mat-elevation-z8" style="width: 80%; padding-top: 30px;">
        <form #feedform="ngForm" novalidate (ngSubmit)="submit()">
            <div style="display: flex; justify-content: center;">
                <div style="display: flex; justify-content: center;">
                    Type of documents: 
                    <mat-checkbox class="example-margin" name="reportsChechbox" [(ngModel)]="searchCriteria.shouldSearchReports">Reports</mat-checkbox>
                    <mat-checkbox class="example-margin" name="prescriptionsCheckbox" [(ngModel)]="searchCriteria.shouldSearchPrescriptions">Prescriptions</mat-checkbox>
                  </div>
                  
                  <div style="display: flex; justify-content: center; margin-left: 10px;">
                    <mat-form-field appearance="fill">
                        <mat-label>Search by criterion</mat-label>
                        <mat-select [(value)]="searchCriteria.filterTypes[0]">
                          <mat-option value="0">Time interval</mat-option>
                          <mat-option value="1">Doctor name</mat-option>
                          <mat-option value="2">Diagnosis name</mat-option>
                          <mat-option value="3" *ngIf="searchCriteria.shouldSearchPrescriptions">Medicine name</mat-option>
                          <mat-option value="4" *ngIf="searchCriteria.shouldSearchReports">Comment</mat-option>
                        </mat-select>
                      </mat-form-field>
        
                        <mat-form-field appearance="fill" color="primary" *ngIf="searchCriteria.filterTypes[0] == 0" style="margin-left: 10px;">
                          <mat-label>Enter a date range</mat-label>
                          <mat-date-range-input [rangePicker]="picker" [min]="minDate" [max]="maxDate">
                            <input matStartDate placeholder="Start date" name="startDateInput" [(ngModel)] = "searchCriteria.timeIntervalFilters[0].timeInterval.StartTime">
                            <input matEndDate placeholder="End date" name="endDateInput" [(ngModel)] = "searchCriteria.timeIntervalFilters[0].timeInterval.EndTime">
                          </mat-date-range-input>
                          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                          <mat-date-range-picker #picker></mat-date-range-picker>
                        </mat-form-field>  
                        <mat-form-field appearance="fill"  *ngIf="searchCriteria.filterTypes[0] == 0" style="margin-left: 10px;">
                            <mat-label>Match filter</mat-label>
                            <mat-select [(value)]="searchCriteria.timeIntervalFilters[0].filter">
                              <mat-option value="0">Contains</mat-option>
                              <mat-option value="1">Does not contain</mat-option>
                            </mat-select>
                        </mat-form-field>
        
                        <mat-form-field class="example-form-field" style="margin-left: 10px;" *ngIf="searchCriteria.filterTypes[0] == 1" >
                          <mat-label>Doctor name</mat-label>
                          <input matInput type="text" name="doctorNameInput" [(ngModel)]="searchCriteria.textFilters[0].text">
                          <button mat-button *ngIf="searchCriteria.textFilters[0].text" matSuffix mat-icon-button aria-label="Clear" (click)="searchCriteria.textFilters[0].text=''">
                            <mat-icon>close</mat-icon>
                          </button>
                        </mat-form-field>
                        <mat-form-field appearance="fill" style="margin-left: 10px;"  *ngIf="searchCriteria.filterTypes[0] == 1">
                            <mat-label>Match filter</mat-label>
                            <mat-select [(value)]="searchCriteria.textFilters[0].filter">
                              <mat-option value="0">Equals</mat-option>
                              <mat-option value="1">Contains</mat-option>
                              <mat-option value="2">Does not contain</mat-option>
                            </mat-select>
                          </mat-form-field>
        
                        <mat-form-field class="example-form-field" style="margin-left: 10px;" *ngIf="searchCriteria.filterTypes[0] == 2" >
                          <mat-label>Diagnosis name</mat-label>
                          <input matInput type="text" name="diagnosisNameInput" [(ngModel)]="searchCriteria.textFilters[0].text">
                          <button mat-button *ngIf="searchCriteria.textFilters[0].text" matSuffix mat-icon-button aria-label="Clear" (click)="searchCriteria.textFilters[0].text=''">
                            <mat-icon>close</mat-icon>
                          </button>
                        </mat-form-field>
                        <mat-form-field appearance="fill" style="margin-left: 10px;"  *ngIf="searchCriteria.filterTypes[0] == 2">
                            <mat-label>Match filter</mat-label>
                            <mat-select [(value)]="searchCriteria.textFilters[0].filter">
                              <mat-option value="0">Equals</mat-option>
                              <mat-option value="1">Contains</mat-option>
                              <mat-option value="2">Does not contain</mat-option>
                            </mat-select>
                          </mat-form-field>
        
                        <mat-form-field class="example-form-field" *ngIf="searchCriteria.filterTypes[0] == 3" style="margin-left: 10px;">
                          <mat-label>Medicine name (prescriptions only)</mat-label>
                          <input matInput type="text" name="medicineNameInput" [(ngModel)]="searchCriteria.textFilters[0].text">
                          <button mat-button *ngIf="searchCriteria.textFilters[0].text" matSuffix mat-icon-button aria-label="Clear" (click)="searchCriteria.textFilters[0].text=''">
                            <mat-icon>close</mat-icon>
                          </button>
                        </mat-form-field>
                        <mat-form-field appearance="fill" style="margin-left: 10px;"  *ngIf="searchCriteria.filterTypes[0] == 3">
                            <mat-label>Match filter</mat-label>
                            <mat-select [(value)]="searchCriteria.textFilters[0].filter">
                              <mat-option value="0">Equals</mat-option>
                              <mat-option value="1">Contains</mat-option>
                              <mat-option value="2">Does not contain</mat-option>
                            </mat-select>
                          </mat-form-field>
        
                        <mat-form-field class="example-form-field" *ngIf="searchCriteria.filterTypes[0] == 4" style="margin-left: 10px;">
                          <mat-label>Doctor's comment (reports only)</mat-label>
                          <input matInput type="text" name="dommentInput" [(ngModel)]="searchCriteria.textFilters[0].text">
                          <button mat-button *ngIf="searchCriteria.textFilters[0].text" matSuffix mat-icon-button aria-label="Clear" (click)="searchCriteria.textFilters[0].text=''">
                            <mat-icon>close</mat-icon>
                          </button>
                        </mat-form-field>
                        <mat-form-field appearance="fill" style="margin-left: 10px;"  *ngIf="searchCriteria.filterTypes[0] == 4">
                            <mat-label>Match filter</mat-label>
                            <mat-select [(value)]="searchCriteria.textFilters[0].filter">
                              <mat-option value="0">Equals</mat-option>
                              <mat-option value="1">Contains</mat-option>
                              <mat-option value="2">Does not contain</mat-option>
                            </mat-select>
                          </mat-form-field>
                  </div>
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
              <button mat-raised-button color="primary" type="submit" style="padding: 12px 32px">Search</button>
            </div>
        </form>
      </mat-card>
</div>

<div style="display: flex; justify-content: center; margin-top: 20px;">
    <table mat-table [dataSource] = "data" class="mat-elevation-z8">
          <ng-container matColumnDef="Type">
            <th mat-header-cell *matHeaderCellDef> DOCUMENT TYPE </th>
            <td mat-cell *matCellDef="let element"> {{element.type}} </td>
          </ng-container>

          <ng-container matColumnDef="DateCreated">
            <th mat-header-cell *matHeaderCellDef> DATE CREATED </th>
            <td mat-cell *matCellDef="let element"> {{element.dateCreated | date : longDate}} </td>
          </ng-container>
        
          <ng-container matColumnDef="DoctorName">
            <th mat-header-cell *matHeaderCellDef> DOCTOR NAME </th>
            <td mat-cell *matCellDef="let element"> {{element.doctorName}} </td>
          </ng-container>
        
          <ng-container matColumnDef="DiagnosisName">
            <th mat-header-cell *matHeaderCellDef> DIAGNOSIS NAME </th>
            <td mat-cell *matCellDef="let element"> {{element.diagnosisName}} </td>
          </ng-container>
        
          <ng-container matColumnDef="Observe">
            <th mat-header-cell *matHeaderCellDef> OBSERVE </th>
            <td mat-cell *matCellDef="let element"> 
              <button mat-stroked-button color="primary">Preview</button>                                      
            </td>
          </ng-container>
      
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>